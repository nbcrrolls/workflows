Name
   GromosClustering
Verison
   1.0
Class
   workflow
Kar
   GromosClustering_1.0.kar
Image
   GromosClustering_1.0.png
Tag
   OpalServer
   Amber
Type
   Clustering
Director
   SDF
Actor 
   TrajectoryListing
   PDBCreator
   PDBModifier
   AtomSelection
   Clustering
PURPOSE
   This clustering workflow enables users to input simulations trajectories and to use gromos clustering method to cluster structures based on rmsd similarity
Required Software
   Kepler 2.4 or above
   AmberTools 12 or 13 (AmberTools 14 is currently under development) 
Overview
   This workflow composes of five main components.
   The first component takes all the trajectories that need to be cluster and compiles them into one big trajectory file. The trajectories of interest must all be in the same folder.
   The second component uses the long trajectory generated from the first component and converts it to pdb. Pdb files are the input for gromos clustering. The trajectories will be aligned based on user input.
   The third component modifies the pdb files. It deletes the first line of each frame (non-atom information) and changes the ending of each frame from END to ENDMDL. All these modifications are required to prepare gromos clustering input.
   The forth component generates another pdb file for clustering. It creates a pdb file contains all the atom that clustering will be based on. For example, if users want to cluster all the trajectories based on the alpha helix near the protein active site, this component will write a pdb file consists only the alpha helix.
   The fifth component is when clustering actually occurs. First, the pdb input files generated from previous steps are zipped as required by the NBCR gromos clustering web server. Then, the zipped files are sent to the server where clustering happens. After clustering is done, outputs are transferred back to local machine. Two files are downloaded: log file which contains clustering information and a tar.gz file which holds all outputs generated from the NBCR gromos clustering web server.
Usage
   There are two ways to run this workflow. One is through the graphic interface. After the workflow is opened, users can double click the parameters to change their values and press the play button to start. Another way is to run Kepler through command lines. It is recommended to run the clustering workflow from command line.
	/PATH/./kepler.sh -runkar -nogui -dd -dp -p -wd -cd -rd -ac -as -f -l -s -cf PATH_TO _KAR/kar_file
If use default values, a user does not need to include the corresponding flags when typing in command prompt.
